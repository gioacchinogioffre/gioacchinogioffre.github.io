{"ast":null,"code":"var _jsxFileName = \"/Users/joaco/Desktop/Henry/PI-videogames/PI-Videogames-main/client/src/components/Home/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAllVideogames, getFilters, getGenres, getOrders, setLoading } from '../../actions';\nimport h from './Home.module.css';\nimport Paginate from '../Paginate/Paginate';\nimport NavBar from \"../NavBar/NavBar\";\nimport xbox from '../Icons/xbox-2.png';\nimport play from '../Icons/playstation.png';\nimport rating from '../Icons/star-2.png';\nimport nintendo from '../Icons/nintendo.png';\nimport wii from '../Icons/wii-u.png';\nimport android from '../Icons/android.png';\nimport linux from '../Icons/linux.png';\nimport pc from '../Icons/pc.png';\nimport mac from '../Icons/mac.png';\nimport loadingGif from '../Icons/loading3.gif';\nimport NotFound from '../Modals/ModalNotFound';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const dispatch = useDispatch(); // local states filters/orders/search\n\n  const [searchByName, setSearchByName] = useState(null); // const [filterByGenre, setFilterByGenre] = useState('all');\n\n  const [filterByGenre, setFilterByGenre] = useState([]);\n  const [filterByOrigin, setFilterByOrigin] = useState(null);\n  const [filterByPlatforms, setFilterByPlatforms] = useState([]); // const [filterByPlatforms, setFilterByPlatforms] = useState('All Platforms');\n\n  const [renderFilters, setRenderFilters] = useState({\n    origin: '',\n    genres: [],\n    platforms: []\n  });\n  const allGames = useSelector(state => state.filteredVideogames);\n  const allGenres = useSelector(state => state.genres);\n  const loading = useSelector(state => state.loading); // const [loading, setLoading] = useState(true)\n\n  const [showModal, setShowModal] = useState(false); // const setModal = () => {\n  //     if (!showModal) return h.notShow;\n  //     else return h.showModal\n  // }\n  //Paginate\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [gamesPerPage] = useState(15);\n  const indexOfLastGame = currentPage * gamesPerPage;\n  const indexOfFirstGame = indexOfLastGame - gamesPerPage;\n  const currentGames = allGames.slice(indexOfFirstGame, indexOfLastGame);\n\n  const paginate = pageNumber => setCurrentPage(pageNumber);\n\n  const prevPage = () => setCurrentPage(currentPage - 1);\n\n  const nextPage = () => setCurrentPage(currentPage + 1);\n\n  useEffect(() => {\n    dispatch(getGenres());\n    if (!allGames.length) dispatch(getAllVideogames()); //    setLoading(true)\n  }, []);\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [allGames]);\n  useEffect(() => {\n    return () => dispatch(setLoading());\n  }, []); // const handleOnSelectGenre = (e) => {\n  //     if(!renderFilters.genres.includes(e.target.value)) setRenderFilters({...renderFilters, genres:[...renderFilters.genres, e.target.value]})\n  //     setCurrentPage(1)\n  //     dispatch(getFilters([...filterByGenre, e.target.value], filterByOrigin, searchByName, filterByPlatforms))\n  //     e.target.value !== 'All Genres' ? (setFilterByGenre([...filterByGenre, e.target.value])): setFilterByGenre([])\n  // }\n\n  const handleOnSelectGenre = e => {\n    if (!renderFilters.genres.includes(e.target.value)) setRenderFilters({ ...renderFilters,\n      genres: [...renderFilters.genres, e.target.value]\n    });\n    setCurrentPage(1);\n\n    if (e.target.value === 'All Genres') {\n      dispatch(getFilters([], filterByOrigin, searchByName, filterByPlatforms));\n      setFilterByGenre([]);\n      setRenderFilters({ ...renderFilters,\n        genres: []\n      });\n    } else {\n      dispatch(getFilters([...filterByGenre, e.target.value], filterByOrigin, searchByName, filterByPlatforms));\n      setFilterByGenre([...filterByGenre, e.target.value]);\n    }\n  }; // const handleOnSelectPlatforms = (e) => {\n  //     if(!renderFilters.platforms.includes(e.target.value)) setRenderFilters({...renderFilters, platforms:[...renderFilters.platforms, e.target.value]})\n  //     setFilterByPlatforms(e.target.value)\n  //     setCurrentPage(1)\n  //     let filterPlatforms = e.target.value;\n  //   dispatch(getFilters(filterByGenre, filterByOrigin, searchByName, filterPlatforms))\n  // }\n\n\n  const handleOnSelectPlatforms = e => {\n    if (!renderFilters.platforms.includes(e.target.value)) setRenderFilters({ ...renderFilters,\n      platforms: [...renderFilters.platforms, e.target.value]\n    });\n    setCurrentPage(1);\n\n    if (e.target.value === 'All Platforms') {\n      dispatch(getFilters(filterByGenre, filterByOrigin, searchByName, []));\n      setFilterByPlatforms([]);\n      setRenderFilters({ ...renderFilters,\n        platforms: []\n      });\n    } else {\n      dispatch(getFilters(filterByGenre, filterByOrigin, searchByName, [...filterByPlatforms, e.target.value]));\n      setFilterByPlatforms([...filterByPlatforms, e.target.value]);\n    }\n  };\n\n  const handleOnSelectGames = e => {\n    setRenderFilters({ ...renderFilters,\n      origin: e.target.value\n    });\n    setFilterByOrigin(e.target.value);\n    setCurrentPage(1);\n    let filterGames = e.target.value;\n    dispatch(getFilters(filterByGenre, filterGames, searchByName, filterByPlatforms));\n  };\n\n  const handleOnSelectOrder = e => {\n    setCurrentPage(1);\n    let orderGames = e.target.value;\n    dispatch(getOrders(orderGames));\n  };\n\n  const handleOnClear = () => {\n    setFilterByGenre([]); // setFilterByGenre('All Genres')\n\n    setFilterByOrigin(null);\n    setFilterByPlatforms([]); // setFilterByPlatforms('All Platforms')\n\n    setSearchByName(null);\n    setRenderFilters({\n      origin: '',\n      genres: [],\n      platforms: []\n    });\n    dispatch(getFilters([], null, null, [])); // dispatch(getFilters('All Genres', 'All Games', null, 'All Platforms'))\n  };\n\n  const handleOnDelete = (e, prop) => {\n    if (prop) {\n      setRenderFilters({ ...renderFilters,\n        [prop]: renderFilters[prop].filter(item => item !== e.target.value)\n      });\n\n      if (prop === 'genres') {\n        setFilterByGenre(filterByGenre.filter(item => item !== e.target.value));\n        dispatch(getFilters(filterByGenre.filter(item => item !== e.target.value), filterByOrigin, searchByName, filterByPlatforms));\n      } else {\n        setFilterByPlatforms(filterByPlatforms.filter(item => item !== e.target.value));\n        dispatch(getFilters(filterByGenre, filterByOrigin, searchByName, filterByPlatforms.filter(item => item !== e.target.value)));\n      }\n    } else {\n      setRenderFilters({ ...renderFilters,\n        origin: ''\n      });\n      setFilterByOrigin('');\n      dispatch(getFilters(filterByGenre, 'All Games', searchByName, filterByPlatforms));\n    }\n\n    setCurrentPage(1);\n  };\n\n  const handleOnDeleteGame = id => {\n    setShowModal(true);\n  }; //  allGenres.length && console.log(allGenres[0].image_background)\n\n\n  let platforms = ['Android', 'iOS', 'Linux', 'macOS', 'Nintendo Switch', 'Nintendo 3DS', 'PC', 'PlayStation', 'PlayStation 2', 'PlayStation 3', 'PlayStation 4', 'PlayStation 5', 'PS Vita', 'Wii U', 'Xbox 360', 'Xbox One', 'Xbox Series S/X'];\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: h.Home,\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {\n      filterByGenre: filterByGenre,\n      filterByOrigin: filterByOrigin,\n      searchByName: searchByName,\n      filterByPlatforms: filterByPlatforms,\n      handleOnClear: handleOnClear\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 22\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: h.container,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: h.firstC,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: (renderFilters.origin.length > 0 || renderFilters.genres.length > 0 || renderFilters.platforms.length > 0) && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleOnClear(),\n            className: h.clearFilters,\n            children: \"Remove filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 126\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: h.filters,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: h.renderFilters,\n            children: [renderFilters.genres.length > 0 && renderFilters.genres.map(r => {\n              return /*#__PURE__*/_jsxDEV(\"button\", {\n                value: r,\n                onClick: e => handleOnDelete(e, 'genres'),\n                children: [\" \", r, \" x\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 36\n              }, this);\n            }), renderFilters.platforms.length > 0 && renderFilters.platforms.map(r => {\n              return /*#__PURE__*/_jsxDEV(\"button\", {\n                value: r,\n                onClick: e => handleOnDelete(e, 'platforms'),\n                children: [\" \", r, \" x\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 36\n              }, this);\n            }), renderFilters.origin.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n              value: renderFilters.origin,\n              onClick: e => handleOnDelete(e),\n              children: [\" \", renderFilters.origin, \" x\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 59\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 24\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: h.filters,\n            name: \"all_db_games\",\n            id: \"games\",\n            size: \"4\",\n            onChange: e => handleOnSelectGames(e),\n            children: /*#__PURE__*/_jsxDEV(\"optgroup\", {\n              label: \"Show\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"All Games\",\n                children: \"All Games\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Api\",\n                children: \"Api Games\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Created\",\n                children: \"Created Games\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: h.genres,\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              focus: true,\n              className: h.filters,\n              name: \"genres\",\n              id: \"genres\",\n              size: \"21\",\n              onChange: e => handleOnSelectGenre(e),\n              children: /*#__PURE__*/_jsxDEV(\"optgroup\", {\n                label: \"Genres\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"All Genres\",\n                  children: \"All Genres\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 33\n                }, this), allGenres.map(g => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: g.name,\n                  children: g.name\n                }, g.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 32\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: h.filters,\n              name: \"platforms\",\n              id: \"platforms\",\n              size: \"21\",\n              onChange: e => handleOnSelectPlatforms(e),\n              children: /*#__PURE__*/_jsxDEV(\"optgroup\", {\n                label: \"Platforms\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"All Platforms\",\n                  children: \"All Platforms\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 33\n                }, this), platforms.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: p,\n                  children: p\n                }, p, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 32\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: h.orders,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Sort by: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"alphabetic\",\n            onChange: e => handleOnSelectOrder(e),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              selected: true,\n              disabled: true,\n              value: \"alphabetic\",\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"a-z\",\n              children: \"A-Z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"z-a\",\n              children: \"Z-A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"rating\",\n            onChange: e => handleOnSelectOrder(e),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              selected: true,\n              disabled: true,\n              value: \"rating\",\n              children: \"Rating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"ascending\",\n              children: \"Ascending\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"descending\",\n              children: \"Descending\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 21\n        }, this), allGames.length >= 100 && /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: h.trending,\n          children: \"Trending now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 48\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: h.vgContainer,\n          children: !loading ? currentGames.length ? currentGames.map(vg => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: h.cardC,\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              className: h.link,\n              to: `/videogames/${vg.id}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: h.cardRating,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: vg.rating\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  alt: \"ratingIcon\",\n                  src: rating\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: h.Card,\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  className: h.vgImage,\n                  src: vg.background_image,\n                  alt: \"videogameImage\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: h.cardTitle,\n                  children: vg.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 42\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: h.cardGenres,\n                  children: vg.genres.map(g => g.name).join(' | ')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 42\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: h.platforms,\n                  children: [vg.platforms.filter(p => p.includes('Xbox')).length > 0 && /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: h.imageP,\n                    src: xbox,\n                    alt: \"xbox\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 102\n                  }, this), vg.platforms.filter(p => p.includes('PlayStation')).length > 0 && /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: h.imageP,\n                    src: play,\n                    alt: \"ps\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 109\n                  }, this), vg.platforms.filter(p => p.includes('Wii U')).length > 0 && /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: h.imageP,\n                    src: wii,\n                    alt: \"wii\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 104\n                  }, this), vg.platforms.filter(p => p.includes('Nintendo')).length > 0 && /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: h.imageP,\n                    src: nintendo,\n                    alt: \"nintendo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 107\n                  }, this), vg.platforms.filter(p => p.includes('Android')).length > 0 && /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: h.imageP,\n                    src: android,\n                    alt: \"android\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 106\n                  }, this), vg.platforms.filter(p => p.includes('Linux')).length > 0 && /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: h.imageP,\n                    src: linux,\n                    alt: \"linux\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 104\n                  }, this), vg.platforms.filter(p => p.includes('PC')).length > 0 && /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: h.imageP,\n                    src: pc,\n                    alt: \"pc\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 101\n                  }, this), vg.platforms.filter(p => p.includes('macOS')).length > 0 && /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: h.imageP,\n                    src: mac,\n                    alt: \"mac\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 104\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 37\n                }, this)]\n              }, vg.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 29\n          }, this)) : /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: h.noGames,\n            children: \"No games found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 40\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: h.loading,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: loadingGif,\n              alt: \"loading\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 31\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: h.paginate,\n      children: /*#__PURE__*/_jsxDEV(Paginate, {\n        gamesPerPage: gamesPerPage,\n        allGames: allGames.length,\n        currentPage: currentPage,\n        paginate: paginate,\n        prevPage: prevPage,\n        nextPage: nextPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Home, \"o5V99V4TtGuwZKOluFz5/lI5wZs=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","Link","useDispatch","useSelector","getAllVideogames","getFilters","getGenres","getOrders","setLoading","h","Paginate","NavBar","xbox","play","rating","nintendo","wii","android","linux","pc","mac","loadingGif","NotFound","Home","dispatch","searchByName","setSearchByName","filterByGenre","setFilterByGenre","filterByOrigin","setFilterByOrigin","filterByPlatforms","setFilterByPlatforms","renderFilters","setRenderFilters","origin","genres","platforms","allGames","state","filteredVideogames","allGenres","loading","showModal","setShowModal","currentPage","setCurrentPage","gamesPerPage","indexOfLastGame","indexOfFirstGame","currentGames","slice","paginate","pageNumber","prevPage","nextPage","length","handleOnSelectGenre","e","includes","target","value","handleOnSelectPlatforms","handleOnSelectGames","filterGames","handleOnSelectOrder","orderGames","handleOnClear","handleOnDelete","prop","filter","item","handleOnDeleteGame","id","container","firstC","clearFilters","filters","map","r","g","name","p","orders","trending","vgContainer","vg","cardC","link","cardRating","Card","vgImage","background_image","cardTitle","cardGenres","join","imageP","noGames"],"sources":["/Users/joaco/Desktop/Henry/PI-videogames/PI-Videogames-main/client/src/components/Home/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport {  useDispatch, useSelector } from 'react-redux';\nimport { getAllVideogames, getFilters, getGenres, getOrders, setLoading } from '../../actions';\nimport h from './Home.module.css';\nimport Paginate from '../Paginate/Paginate';\nimport NavBar from \"../NavBar/NavBar\";\nimport xbox from '../Icons/xbox-2.png'\nimport play from '../Icons/playstation.png'\nimport rating from '../Icons/star-2.png'\nimport nintendo from '../Icons/nintendo.png'\nimport wii from '../Icons/wii-u.png'\nimport android from '../Icons/android.png'\nimport linux from '../Icons/linux.png'\nimport pc from '../Icons/pc.png'\nimport mac from '../Icons/mac.png'\nimport loadingGif from '../Icons/loading3.gif'\nimport NotFound from '../Modals/ModalNotFound';\n\n\n\nconst Home = () => {\n    const dispatch = useDispatch();\n    \n\n    // local states filters/orders/search\n    const [searchByName, setSearchByName] = useState(null);\n    // const [filterByGenre, setFilterByGenre] = useState('all');\n    const [filterByGenre, setFilterByGenre] = useState([]);\n    const [filterByOrigin, setFilterByOrigin] = useState(null)\n    const [filterByPlatforms, setFilterByPlatforms] = useState([]);\n    // const [filterByPlatforms, setFilterByPlatforms] = useState('All Platforms');\n    const [renderFilters, setRenderFilters] = useState({origin: '', genres:[], platforms:[]});\n\n\n    const allGames = useSelector(state => state.filteredVideogames);\n    const allGenres = useSelector(state => state.genres);\n    const loading = useSelector(state => state.loading);\n\n    // const [loading, setLoading] = useState(true)\n\n    const [showModal, setShowModal] = useState(false)\n    // const setModal = () => {\n    //     if (!showModal) return h.notShow;\n    //     else return h.showModal\n    // }\n\n    \n    //Paginate\n    const [currentPage, setCurrentPage] = useState(1);\n    const [gamesPerPage] = useState(15);\n    const indexOfLastGame = currentPage * gamesPerPage;\n    const indexOfFirstGame = indexOfLastGame - gamesPerPage;\n    const currentGames = allGames.slice(indexOfFirstGame, indexOfLastGame)\n    const paginate = (pageNumber) => setCurrentPage(pageNumber);\n    const prevPage= () => setCurrentPage(currentPage - 1);\n    const nextPage= () => setCurrentPage(currentPage + 1);\n\n\n   useEffect(() => {\n       dispatch(getGenres())\n       if(!allGames.length) dispatch(getAllVideogames())\n       //    setLoading(true)\n    }, [])\n    \n    useEffect(() => {\n        setCurrentPage(1)\n    }, [allGames])\n\n    useEffect(() => {return () => dispatch(setLoading())}, [])\n    \n\n    // const handleOnSelectGenre = (e) => {\n    //     if(!renderFilters.genres.includes(e.target.value)) setRenderFilters({...renderFilters, genres:[...renderFilters.genres, e.target.value]})\n    //     setCurrentPage(1)\n    //     dispatch(getFilters([...filterByGenre, e.target.value], filterByOrigin, searchByName, filterByPlatforms))\n    //     e.target.value !== 'All Genres' ? (setFilterByGenre([...filterByGenre, e.target.value])): setFilterByGenre([])\n    // }\n\n    const handleOnSelectGenre = (e) => {\n        if(!renderFilters.genres.includes(e.target.value)) setRenderFilters({...renderFilters, genres:[...renderFilters.genres, e.target.value]})\n        setCurrentPage(1)\n        if (e.target.value === 'All Genres') {\n            dispatch(getFilters([], filterByOrigin, searchByName, filterByPlatforms))\n            setFilterByGenre([])\n            setRenderFilters({...renderFilters, genres:[]})\n        } else {\n            dispatch(getFilters([...filterByGenre, e.target.value], filterByOrigin, searchByName, filterByPlatforms))\n            setFilterByGenre([...filterByGenre, e.target.value])   \n        }\n    }\n\n    // const handleOnSelectPlatforms = (e) => {\n    //     if(!renderFilters.platforms.includes(e.target.value)) setRenderFilters({...renderFilters, platforms:[...renderFilters.platforms, e.target.value]})\n    //     setFilterByPlatforms(e.target.value)\n    //     setCurrentPage(1)\n    //     let filterPlatforms = e.target.value;\n    //   dispatch(getFilters(filterByGenre, filterByOrigin, searchByName, filterPlatforms))\n    // }\n    const handleOnSelectPlatforms = (e) => {\n        if(!renderFilters.platforms.includes(e.target.value)) setRenderFilters({...renderFilters, platforms:[...renderFilters.platforms, e.target.value]})\n        setCurrentPage(1)\n        if(e.target.value === 'All Platforms') {\n            dispatch(getFilters(filterByGenre, filterByOrigin, searchByName, []))\n            setFilterByPlatforms([])\n            setRenderFilters({...renderFilters, platforms:[]})\n        } else {\n            dispatch(getFilters(filterByGenre, filterByOrigin, searchByName, [...filterByPlatforms, e.target.value]))\n            setFilterByPlatforms([...filterByPlatforms, e.target.value])   \n        }\n    }\n\n        \n    const handleOnSelectGames = (e) => {\n        setRenderFilters({...renderFilters, origin:e.target.value})\n        setFilterByOrigin(e.target.value)\n        setCurrentPage(1)\n        let filterGames = e.target.value;\n      dispatch(getFilters(filterByGenre, filterGames, searchByName, filterByPlatforms))\n    }\n\n\n\n    const handleOnSelectOrder = (e) => {\n        setCurrentPage(1)\n        let orderGames = e.target.value;\n        dispatch(getOrders(orderGames))\n      }\n\n      const handleOnClear = () => {\n        setFilterByGenre([])\n        // setFilterByGenre('All Genres')\n        setFilterByOrigin(null)\n        setFilterByPlatforms([])\n        // setFilterByPlatforms('All Platforms')\n        setSearchByName(null)\n        setRenderFilters({origin: '', genres:[], platforms:[]})\n        dispatch(getFilters([], null, null, []))\n        // dispatch(getFilters('All Genres', 'All Games', null, 'All Platforms'))\n      }\n\n      const handleOnDelete = (e, prop) => {\n        if(prop) {\n            setRenderFilters({...renderFilters, [prop]: renderFilters[prop].filter(item => item !== e.target.value)}) \n            if(prop === 'genres') {\n                setFilterByGenre(filterByGenre.filter(item => item !== e.target.value))\n                dispatch(getFilters(filterByGenre.filter(item => item !== e.target.value), filterByOrigin, searchByName, filterByPlatforms))\n            } else {\n                setFilterByPlatforms(filterByPlatforms.filter(item => item !== e.target.value))\n                dispatch(getFilters(filterByGenre, filterByOrigin, searchByName, filterByPlatforms.filter(item => item !== e.target.value)))\n            }\n        }\n        else {\n            setRenderFilters({...renderFilters, origin: ''})\n            setFilterByOrigin('')\n            dispatch(getFilters(filterByGenre, 'All Games', searchByName, filterByPlatforms))\n        }\n        setCurrentPage(1)\n      }\n\n      const handleOnDeleteGame = (id) => {\n        setShowModal(true)\n    }\n\n\n    //  allGenres.length && console.log(allGenres[0].image_background)\n  \n     let platforms = ['Android', 'iOS', 'Linux', 'macOS', 'Nintendo Switch', 'Nintendo 3DS', 'PC', 'PlayStation', 'PlayStation 2', 'PlayStation 3', 'PlayStation 4', 'PlayStation 5', 'PS Vita', 'Wii U', 'Xbox 360', 'Xbox One', 'Xbox Series S/X', ]\n\n    return (\n        \n        <header className={h.Home}>\n                     <NavBar filterByGenre={filterByGenre} filterByOrigin={filterByOrigin} searchByName={searchByName} filterByPlatforms={filterByPlatforms} handleOnClear={handleOnClear}>\n                    </NavBar>\n\n         <div className={h.container}>\n\n              <div className={h.firstC}>\n                 <div >\n                    {(renderFilters.origin.length>0 || renderFilters.genres.length>0 || renderFilters.platforms.length>0) && <button  onClick={() => handleOnClear()} className={h.clearFilters}>Remove filters</button>}\n                 </div>\n\n                <div className={h.filters}>\n\n                       <div className={h.renderFilters}>\n                        {renderFilters.genres.length>0 && renderFilters.genres.map(r => {\n                            return <button value={r} onClick={(e) => handleOnDelete(e, 'genres')}> {r} x</button>})}\n                        {renderFilters.platforms.length>0 && renderFilters.platforms.map(r => {\n                            return <button value={r} onClick={(e) => handleOnDelete(e, 'platforms')}> {r} x</button>})}\n                        {renderFilters.origin.length>0 && <button value={renderFilters.origin} onClick={(e) => handleOnDelete(e)}> {renderFilters.origin} x</button>}\n                       </div>\n                        <select className={h.filters} name='all_db_games' id='games' size='4' onChange={(e) => handleOnSelectGames(e)}>\n                            <optgroup  label='Show'>\n                                <option value='All Games'>All Games</option>\n                                <option value='Api'>Api Games</option>\n                                <option value='Created'>Created Games</option>\n                            </optgroup>\n                        </select>\n                        {/* <br></br><br></br><br></br> */}\n                        <div className={h.genres}>\n                        {/* {allGenres.length && allGenres.map(g => \n                        <img className={h.genreIcon} src={g.image_background} alt='genreIcon'></img>)} */}\n                        <select focus className={h.filters} name='genres' id='genres' size='21' onChange={(e) => handleOnSelectGenre(e)}>\n                            <optgroup label='Genres'>\n                                <option value='All Genres'>All Genres</option>\n                               {allGenres.map(g =>\n                               <option value={g.name} key={g.id}>{g.name}</option> )}\n                            </optgroup>\n                         </select>\n                        {/* <br></br><br></br> */}\n                        <select  className={h.filters} name='platforms' id='platforms' size='21' onChange={(e) => handleOnSelectPlatforms(e)}>\n                            <optgroup label='Platforms'>\n                                <option value='All Platforms'>All Platforms</option>\n                               {platforms.map(p =>\n                               <option value={p} key={p}>{p}</option> )}\n                            </optgroup>\n                         </select>\n                        </div>\n                </div>\n             </div>\n                    <div>\n                    <div className={h.orders}>\n                        <h4>Sort by: </h4>\n                     <select name='alphabetic' onChange={(e) => handleOnSelectOrder(e)}>\n                                <option selected disabled value='alphabetic'>Name</option>\n                                <option value='a-z'>A-Z</option>\n                                <option value='z-a'>Z-A</option>\n                         </select>\n                        <select name='rating' onChange={(e) => handleOnSelectOrder(e)}>\n                            <option selected disabled value='rating'>Rating</option>\n                                <option  value='ascending'>Ascending</option>\n                                <option value='descending'>Descending</option>\n                        </select>\n                    </div>\n                    {allGames.length >= 100 && <h1 className={h.trending}>Trending now</h1>}\n                    {/* <div className={setModal()}><ModalDelete/></div> */}\n                    <div className={h.vgContainer}>\n                         {!loading ? (currentGames.length ? currentGames.map(vg => (\n                            <div className={h.cardC}>\n                            <Link className={h.link} to={`/videogames/${vg.id}`}>\n                                    <div className={h.cardRating}>\n                                        <p>{vg.rating}</p>\n                                        <img alt='ratingIcon' src={rating}></img>\n                                    </div>\n                                    <div className={h.Card} key={vg.id}>\n                                    <img className={h.vgImage} src={vg.background_image} alt='videogameImage'/>\n                                         <div className ={h.cardTitle}>{vg.name}</div>\n                                         <div className ={h.cardGenres}>{vg.genres.map(g => g.name).join(' | ')}</div>\n                                  \n                                    <div className={h.platforms}>\n                                         {vg.platforms.filter(p => p.includes('Xbox')).length > 0 && <img className={h.imageP} src={xbox} alt='xbox'></img>}\n                                         {vg.platforms.filter(p => p.includes('PlayStation')).length > 0 && <img className={h.imageP} src={play} alt='ps'></img>}\n                                         {vg.platforms.filter(p => p.includes('Wii U')).length > 0 &&  <img className={h.imageP} src={wii} alt='wii'></img>}\n                                         {vg.platforms.filter(p => p.includes('Nintendo')).length > 0 &&  <img className={h.imageP} src={nintendo} alt='nintendo'></img>}\n                                         {vg.platforms.filter(p => p.includes('Android')).length > 0 &&  <img className={h.imageP} src={android} alt='android'></img>}\n                                         {vg.platforms.filter(p => p.includes('Linux')).length > 0 &&  <img className={h.imageP} src={linux} alt='linux'></img>}\n                                         {vg.platforms.filter(p => p.includes('PC')).length > 0 &&  <img className={h.imageP} src={pc} alt='pc'></img>}\n                                         {vg.platforms.filter(p => p.includes('macOS')).length > 0 &&  <img className={h.imageP} src={mac} alt='mac'></img>}\n                                    </div>\n                            </div></Link> \n                            </div>)) : <h1 className={h.noGames}>No games found</h1>)\n                            : <div className={h.loading}>\n                                <img src={loadingGif} alt='loading'></img>\n                                <h1>loading...</h1>\n                              </div>\n                            }\n                    </div>\n                    </div>\n    \n            </div>\n                    <div className={h.paginate}>\n                    <Paginate  gamesPerPage={gamesPerPage}  allGames={allGames.length}  currentPage={currentPage}\n                    paginate={paginate} prevPage={prevPage}  nextPage={nextPage} />\n                    </div>\n\n        </header>\n    )\n    \n}\n\nexport default Home;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}