{"ast":null,"code":"var _jsxFileName = \"/Users/joaco/Desktop/Henry/PI-videogames/PI-Videogames-main/client/src/components/Home/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useEffect, useState, useDispatch, useSelector } from 'react';\nimport { NavLink, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getAllVideogames } from '../../actions';\nimport h from './Home.module.css';\nimport Paginate from '../Paginate/Paginate';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Home = () => {\n  _s();\n\n  // constructor(props){\n  //     super(props)\n  // }\n  const dispatch = useDispatch();\n  const allGames = useSelector(state => state.videogames);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [gamesPerPage] = useState(15);\n  const indexOfLastGame = currentPage * gamesPerPage;\n  const indexOfFirstGame = indexOfLastGame - gamesPerPage;\n  const currentGames = allGames.slice(indexOfFirstGame, indexOfLastGame);\n  const [loading, setLoading] = useState(false);\n  const [totalPosts, setTotalPosts] = useState(0);\n  useEffect(() => {\n    const loadPost = async () => {\n      setLoading(true);\n      dispatch(getAllVideogames());\n      setTotalPosts(this.videogames.length);\n      setLoading(false);\n    };\n\n    loadPost();\n  }, []);\n\n  const paginate = pageNumber => setCurrentPage(pageNumber);\n\n  const prevPage = () => setCurrentPage(currentPage - 1);\n\n  const nextPage = () => setCurrentPage(currentPage + 1);\n\n  const showPagination = () => {\n    return /*#__PURE__*/_jsxDEV(Paginate, {\n      postPerPage: postPerPage,\n      totalPosts: totalPosts,\n      currentPage: currentPage,\n      paginate: paginate,\n      prevPage: prevPage,\n      nextPage: nextPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"videogames\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"createVd\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/createVideoGame\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Create Game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: h.vgContainer,\n      children: [\"ACA VAN LOS JUEGUITOS \\uD83D\\uDE42\", /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: !loading ? currentGames.map(vg => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: h.vgImage,\n            src: vg.background_image,\n            alt: \"videogameImage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/videogames/${vg.id}`,\n              children: vg.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"Platforms: \", vg.platforms.join(' | ')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"Genres:  \", vg.genres.map(g => g.name).join(' | ')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 33\n          }, this)]\n        }, vg.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 29\n        }, this)) : /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: showPagination()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Home, \"b5MJfKtIE/GpOjdwmTPenUoFQro=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Home;\n\nfunction mapStateToProps(state) {\n  // Creamos funci칩n mapStateToProps que nos traer치 el state global almacenado en store.\n  return {\n    videogames: state.videogames // // Creamos propiedad movie donde nos guardaremos el objeto de la pel칤cula seleccionada que guardar치 como propiedades sus detalles. Ahora al componente Movie, le llegar치 como props la propiedad movie. (podr치 acceder mediante this.movie)\n\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getAllVideogames: () => dispatch(getAllVideogames())\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home); // Conectamos a nuestro componente en primer lugar con el estado global (store) pas치ndolo como prop mediante mapStateToProps, y en segundo lugar con las actions mediante mapDispatchToProps.\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","Component","useEffect","useState","useDispatch","useSelector","NavLink","Link","connect","getAllVideogames","h","Paginate","Home","dispatch","allGames","state","videogames","currentPage","setCurrentPage","gamesPerPage","indexOfLastGame","indexOfFirstGame","currentGames","slice","loading","setLoading","totalPosts","setTotalPosts","loadPost","length","paginate","pageNumber","prevPage","nextPage","showPagination","postPerPage","vgContainer","map","vg","vgImage","background_image","id","name","platforms","join","genres","g","mapStateToProps","mapDispatchToProps"],"sources":["/Users/joaco/Desktop/Henry/PI-videogames/PI-Videogames-main/client/src/components/Home/Home.js"],"sourcesContent":["import React, { Component, useEffect, useState, useDispatch, useSelector } from 'react';\nimport { NavLink, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getAllVideogames } from '../../actions';\nimport h from './Home.module.css';\nimport Paginate from '../Paginate/Paginate';\n\n\nexport const Home = () => {\n    // constructor(props){\n    //     super(props)\n    // }\n    const dispatch=useDispatch();\n    const allGames = useSelector(state => state.videogames);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [gamesPerPage] = useState(15);\n    const indexOfLastGame = currentPage * gamesPerPage;\n    const indexOfFirstGame = indexOfLastGame - gamesPerPage;\n    const currentGames = allGames.slice(indexOfFirstGame, indexOfLastGame)\n\n   const [loading, setLoading] = useState(false)\n   const [totalPosts, setTotalPosts] = useState(0);\n\n   useEffect(() => {\n     const loadPost = async () => {\n        setLoading(true)\n        dispatch(getAllVideogames())\n        setTotalPosts(this.videogames.length)\n        setLoading(false)\n     }\n    loadPost()\n   }, [])\n\n   const paginate = (pageNumber) => setCurrentPage(pageNumber);\n   const prevPage= () => setCurrentPage(currentPage - 1);\n    const nextPage= () => setCurrentPage(currentPage + 1);\n    const showPagination = () => {\n        return ( \n            <Paginate\n            postPerPage={postPerPage}\n            totalPosts={totalPosts}\n            currentPage={currentPage}\n            paginate={paginate}\n            prevPage={prevPage}\n            nextPage={nextPage}\n            />\n        )\n        }\n\n    return (\n        <header className=\"videogames\">\n           \n             <div className='createVd'>\n                <Link to='/createVideoGame'><button>Create Game</button></Link>\n            </div>\n\n             {/* <div className={h.vgContainer}>\n                    ACA VAN LOS JUEGUITOS 游뗵\n                    <ul>\n                        {this.props.videogames && this.props.videogames.map(vg => \n                            <div key={vg.id}>\n                                <img className={h.vgImage} src={vg.background_image} alt='videogameImage'/>\n                                <h3><Link to={`/videogames/${vg.id}`}>{vg.name}</Link></h3>\n                                <li>Platforms: {vg.platforms.join(' | ')}</li>\n                                <li>Genres:  {vg.genres.map(g => g.name).join(' | ')}</li>\n                            </div>)\n                        }\n                    </ul>\n             </div> */}\n\n                    <div className={h.vgContainer}>\n                    ACA VAN LOS JUEGUITOS 游뗵\n                    <ul>\n                        {!loading ? currentGames.map(vg => (\n                            <div key={vg.id}>\n                                <img className={h.vgImage} src={vg.background_image} alt='videogameImage'/>\n                                <h3><Link to={`/videogames/${vg.id}`}>{vg.name}</Link></h3>\n                                <li>Platforms: {vg.platforms.join(' | ')}</li>\n                                <li>Genres:  {vg.genres.map(g => g.name).join(' | ')}</li>\n                            </div>)) : <h1>Loading...</h1>\n                            }\n                    </ul>\n                    <div>{showPagination()}</div>\n             </div>\n\n        </header>\n    )\n    \n}\n\nfunction mapStateToProps(state) { // Creamos funci칩n mapStateToProps que nos traer치 el state global almacenado en store.\n    return {\n        videogames: state.videogames // // Creamos propiedad movie donde nos guardaremos el objeto de la pel칤cula seleccionada que guardar치 como propiedades sus detalles. Ahora al componente Movie, le llegar치 como props la propiedad movie. (podr치 acceder mediante this.movie)\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        getAllVideogames: () => dispatch(getAllVideogames()) \n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Home); // Conectamos a nuestro componente en primer lugar con el estado global (store) pas치ndolo como prop mediante mapStateToProps, y en segundo lugar con las actions mediante mapDispatchToProps.\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}