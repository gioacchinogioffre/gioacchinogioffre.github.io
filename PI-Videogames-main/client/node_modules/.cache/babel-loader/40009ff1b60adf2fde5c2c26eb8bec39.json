{"ast":null,"code":"import _toConsumableArray from\"/Users/joaco/Desktop/Henry/PI-videogames/PI-Videogames-main/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/joaco/Desktop/Henry/PI-videogames/PI-Videogames-main/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{GET_VIDEOGAME_DETAIL,GET_SEARCH_VIDEOGAMES,DELETE_VIDEOGAME,CREATE_VIDEOGAME,GET_ALL_VIDEOGAMES,GET_GENRES,GET_FILTERS,GET_ORDERS}from'../actions/index';var initialState={filteredVideogames:[],videogames:[],videogameDetail:[],genres:[],orders:[],msg:''};export default function rootReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case GET_ALL_VIDEOGAMES:return _objectSpread(_objectSpread({},state),{},{videogames:action.payload,filteredVideogames:action.payload});case GET_SEARCH_VIDEOGAMES:return _objectSpread(_objectSpread({},state),{},{videogames:action.payload});case GET_VIDEOGAME_DETAIL:return _objectSpread(_objectSpread({},state),{},{videogameDetail:[action.payload]});case CREATE_VIDEOGAME:return _objectSpread(_objectSpread({},state),{},{videogames:[].concat(_toConsumableArray(state.videogames),[action.payload.game]),msg:action.payload.msg});case DELETE_VIDEOGAME:return _objectSpread({},state);case GET_GENRES:return _objectSpread(_objectSpread({},state),{},{genres:action.payload});case GET_FILTERS:var filters=_toConsumableArray(state.videogames);var byOrigin=action.payload.filterByOrigin;var byGenre=action.payload.filterByGenre;var byName=action.payload.searchByName;console.log(byName);if(byName)filters=filters.filter(function(vg){return vg.name.toLowerCase().includes(byName.toLowerCase());});if(byGenre!=='all'){filters=filters.filter(function(videogame){var genre=videogame.genres.find(function(vg){return vg.name.includes(byGenre);});return genre;});}if(byOrigin==='all')filters=_toConsumableArray(state.videogames);if(byOrigin==='db')filters=filters.filter(function(videogame){return videogame.createdOnDb===true;});if(byOrigin==='api')filters=filters.filter(function(videogame){return videogame.createdOnDb===undefined;});return _objectSpread(_objectSpread({},state),{},{filteredVideogames:filters});case GET_ORDERS:var vgOrder=_toConsumableArray(state.filteredVideogames);var byOrder=action.payload;var byRating=action.payload;if(byOrder==='ascending')vgOrder=vgOrder.sort(function(a,b){if(a.rating<b.rating)return 1;if(a.rating>b.rating)return-1;return 0;});if(byOrder==='descending')vgOrder=vgOrder.sort(function(a,b){if(a.rating>b.rating)return 1;if(a.rating<b.rating)return-1;return 0;});if(byRating==='a-z')vgOrder=vgOrder.sort(function(a,b){return a.name.localeCompare(b.name);});if(byRating==='z-a')vgOrder=vgOrder.sort(function(a,b){return b.name.localeCompare(a.name);});return _objectSpread(_objectSpread({},state),{},{filteredVideogames:vgOrder});default:return _objectSpread({},state);}}","map":{"version":3,"names":["GET_VIDEOGAME_DETAIL","GET_SEARCH_VIDEOGAMES","DELETE_VIDEOGAME","CREATE_VIDEOGAME","GET_ALL_VIDEOGAMES","GET_GENRES","GET_FILTERS","GET_ORDERS","initialState","filteredVideogames","videogames","videogameDetail","genres","orders","msg","rootReducer","state","action","type","payload","game","filters","byOrigin","filterByOrigin","byGenre","filterByGenre","byName","searchByName","console","log","filter","vg","name","toLowerCase","includes","videogame","genre","find","createdOnDb","undefined","vgOrder","byOrder","byRating","sort","a","b","rating","localeCompare"],"sources":["/Users/joaco/Desktop/Henry/PI-videogames/PI-Videogames-main/client/src/reducers/index.js"],"sourcesContent":["import { GET_VIDEOGAME_DETAIL, GET_SEARCH_VIDEOGAMES, DELETE_VIDEOGAME, CREATE_VIDEOGAME, GET_ALL_VIDEOGAMES, GET_GENRES, GET_FILTERS, GET_ORDERS} from '../actions/index';\n\n\nconst initialState = {\n    filteredVideogames: [],\n    videogames: [],\n    videogameDetail:[],\n    genres: [],\n    orders: [],\n    msg: ''\n}\n\nexport default function rootReducer(state = initialState, action) {\n\n    switch(action.type) {\n        case GET_ALL_VIDEOGAMES: return {...state, videogames: action.payload, filteredVideogames:action.payload}\n\n        case GET_SEARCH_VIDEOGAMES: return {...state, videogames: action.payload}\n\n        case GET_VIDEOGAME_DETAIL: return {...state, videogameDetail: [action.payload]}\n\n        case CREATE_VIDEOGAME: return {...state, videogames: [...state.videogames, action.payload.game], msg: action.payload.msg}\n\n        case DELETE_VIDEOGAME: return {...state}\n\n        case GET_GENRES: return {...state, genres: action.payload}\n\n        case GET_FILTERS: \n        let filters = [...state.videogames]\n        let byOrigin = action.payload.filterByOrigin\n        let byGenre = action.payload.filterByGenre\n        let byName = action.payload.searchByName\n        console.log(byName)\n      \n        if(byName) filters = filters.filter(vg => vg.name.toLowerCase().includes(byName.toLowerCase()))\n\n        if(byGenre !== 'all') { \n                filters = filters.filter(videogame => {\n                let genre = videogame.genres.find(vg => vg.name.includes(byGenre))\n                return genre})\n        }\n        \n        if(byOrigin === 'all') filters =[...state.videogames]\n        if(byOrigin === 'db') filters = filters.filter(videogame => videogame.createdOnDb === true)\n        if(byOrigin === 'api')  filters = filters.filter(videogame => videogame.createdOnDb === undefined)\n        \n        return {...state, filteredVideogames: filters}\n\n        case GET_ORDERS:\n        let vgOrder = [...state.filteredVideogames]\n        let byOrder = action.payload\n        let byRating = action.payload\n    \n        if(byOrder === 'ascending') vgOrder = vgOrder.sort((a,b) => {\n            if(a.rating < b.rating) return 1\n            if(a.rating > b.rating) return -1\n            return 0})\n\n        if(byOrder === 'descending') vgOrder = vgOrder.sort((a,b) => {\n             if(a.rating > b.rating) return 1\n             if(a.rating < b.rating) return -1\n             return 0})\n\n        if(byRating === 'a-z') vgOrder = vgOrder.sort((a,b) => a.name.localeCompare(b.name))\n        if(byRating === 'z-a') vgOrder = vgOrder.sort((a,b) => b.name.localeCompare(a.name))\n\n        return {...state, filteredVideogames: vgOrder}\n        \n        default: return {...state}\n\n    }\n}"],"mappings":"uTAAA,OAASA,oBAAT,CAA+BC,qBAA/B,CAAsDC,gBAAtD,CAAwEC,gBAAxE,CAA0FC,kBAA1F,CAA8GC,UAA9G,CAA0HC,WAA1H,CAAuIC,UAAvI,KAAwJ,kBAAxJ,CAGA,GAAMC,aAAY,CAAG,CACjBC,kBAAkB,CAAE,EADH,CAEjBC,UAAU,CAAE,EAFK,CAGjBC,eAAe,CAAC,EAHC,CAIjBC,MAAM,CAAE,EAJS,CAKjBC,MAAM,CAAE,EALS,CAMjBC,GAAG,CAAE,EANY,CAArB,CASA,cAAe,SAASC,YAAT,EAAmD,IAA9BC,MAA8B,2DAAtBR,YAAsB,IAARS,OAAQ,2CAE9D,OAAOA,MAAM,CAACC,IAAd,EACI,IAAKd,mBAAL,CAAyB,sCAAWY,KAAX,MAAkBN,UAAU,CAAEO,MAAM,CAACE,OAArC,CAA8CV,kBAAkB,CAACQ,MAAM,CAACE,OAAxE,GAEzB,IAAKlB,sBAAL,CAA4B,sCAAWe,KAAX,MAAkBN,UAAU,CAAEO,MAAM,CAACE,OAArC,GAE5B,IAAKnB,qBAAL,CAA2B,sCAAWgB,KAAX,MAAkBL,eAAe,CAAE,CAACM,MAAM,CAACE,OAAR,CAAnC,GAE3B,IAAKhB,iBAAL,CAAuB,sCAAWa,KAAX,MAAkBN,UAAU,8BAAMM,KAAK,CAACN,UAAZ,GAAwBO,MAAM,CAACE,OAAP,CAAeC,IAAvC,EAA5B,CAA0EN,GAAG,CAAEG,MAAM,CAACE,OAAP,CAAeL,GAA9F,GAEvB,IAAKZ,iBAAL,CAAuB,wBAAWc,KAAX,EAEvB,IAAKX,WAAL,CAAiB,sCAAWW,KAAX,MAAkBJ,MAAM,CAAEK,MAAM,CAACE,OAAjC,GAEjB,IAAKb,YAAL,CACA,GAAIe,QAAO,oBAAOL,KAAK,CAACN,UAAb,CAAX,CACA,GAAIY,SAAQ,CAAGL,MAAM,CAACE,OAAP,CAAeI,cAA9B,CACA,GAAIC,QAAO,CAAGP,MAAM,CAACE,OAAP,CAAeM,aAA7B,CACA,GAAIC,OAAM,CAAGT,MAAM,CAACE,OAAP,CAAeQ,YAA5B,CACAC,OAAO,CAACC,GAAR,CAAYH,MAAZ,EAEA,GAAGA,MAAH,CAAWL,OAAO,CAAGA,OAAO,CAACS,MAAR,CAAe,SAAAC,EAAE,QAAIA,GAAE,CAACC,IAAH,CAAQC,WAAR,GAAsBC,QAAtB,CAA+BR,MAAM,CAACO,WAAP,EAA/B,CAAJ,EAAjB,CAAV,CAEX,GAAGT,OAAO,GAAK,KAAf,CAAsB,CACdH,OAAO,CAAGA,OAAO,CAACS,MAAR,CAAe,SAAAK,SAAS,CAAI,CACtC,GAAIC,MAAK,CAAGD,SAAS,CAACvB,MAAV,CAAiByB,IAAjB,CAAsB,SAAAN,EAAE,QAAIA,GAAE,CAACC,IAAH,CAAQE,QAAR,CAAiBV,OAAjB,CAAJ,EAAxB,CAAZ,CACA,MAAOY,MAAP,CAAa,CAFH,CAAV,CAGP,CAED,GAAGd,QAAQ,GAAK,KAAhB,CAAuBD,OAAO,oBAAML,KAAK,CAACN,UAAZ,CAAP,CACvB,GAAGY,QAAQ,GAAK,IAAhB,CAAsBD,OAAO,CAAGA,OAAO,CAACS,MAAR,CAAe,SAAAK,SAAS,QAAIA,UAAS,CAACG,WAAV,GAA0B,IAA9B,EAAxB,CAAV,CACtB,GAAGhB,QAAQ,GAAK,KAAhB,CAAwBD,OAAO,CAAGA,OAAO,CAACS,MAAR,CAAe,SAAAK,SAAS,QAAIA,UAAS,CAACG,WAAV,GAA0BC,SAA9B,EAAxB,CAAV,CAExB,sCAAWvB,KAAX,MAAkBP,kBAAkB,CAAEY,OAAtC,GAEA,IAAKd,WAAL,CACA,GAAIiC,QAAO,oBAAOxB,KAAK,CAACP,kBAAb,CAAX,CACA,GAAIgC,QAAO,CAAGxB,MAAM,CAACE,OAArB,CACA,GAAIuB,SAAQ,CAAGzB,MAAM,CAACE,OAAtB,CAEA,GAAGsB,OAAO,GAAK,WAAf,CAA4BD,OAAO,CAAGA,OAAO,CAACG,IAAR,CAAa,SAACC,CAAD,CAAGC,CAAH,CAAS,CACxD,GAAGD,CAAC,CAACE,MAAF,CAAWD,CAAC,CAACC,MAAhB,CAAwB,MAAO,EAAP,CACxB,GAAGF,CAAC,CAACE,MAAF,CAAWD,CAAC,CAACC,MAAhB,CAAwB,MAAO,CAAC,CAAR,CACxB,MAAO,EAAP,CAAS,CAHyB,CAAV,CAK5B,GAAGL,OAAO,GAAK,YAAf,CAA6BD,OAAO,CAAGA,OAAO,CAACG,IAAR,CAAa,SAACC,CAAD,CAAGC,CAAH,CAAS,CACxD,GAAGD,CAAC,CAACE,MAAF,CAAWD,CAAC,CAACC,MAAhB,CAAwB,MAAO,EAAP,CACxB,GAAGF,CAAC,CAACE,MAAF,CAAWD,CAAC,CAACC,MAAhB,CAAwB,MAAO,CAAC,CAAR,CACxB,MAAO,EAAP,CAAS,CAHyB,CAAV,CAK7B,GAAGJ,QAAQ,GAAK,KAAhB,CAAuBF,OAAO,CAAGA,OAAO,CAACG,IAAR,CAAa,SAACC,CAAD,CAAGC,CAAH,QAASD,EAAC,CAACZ,IAAF,CAAOe,aAAP,CAAqBF,CAAC,CAACb,IAAvB,CAAT,EAAb,CAAV,CACvB,GAAGU,QAAQ,GAAK,KAAhB,CAAuBF,OAAO,CAAGA,OAAO,CAACG,IAAR,CAAa,SAACC,CAAD,CAAGC,CAAH,QAASA,EAAC,CAACb,IAAF,CAAOe,aAAP,CAAqBH,CAAC,CAACZ,IAAvB,CAAT,EAAb,CAAV,CAEvB,sCAAWhB,KAAX,MAAkBP,kBAAkB,CAAE+B,OAAtC,GAEA,QAAS,wBAAWxB,KAAX,EAtDb,CAyDH"},"metadata":{},"sourceType":"module"}