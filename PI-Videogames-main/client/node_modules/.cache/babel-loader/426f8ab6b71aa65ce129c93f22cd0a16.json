{"ast":null,"code":"var _jsxFileName = \"/Users/joaco/Desktop/Henry/PI-videogames/PI-Videogames-main/client/src/components/Form/Form.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { NavLink, Link, useHistory } from 'react-router-dom';\nimport s from './Form.module.css';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createVideogame, getGenres } from '../../actions';\nimport swal from 'sweetalert';\nimport photo from '../Icons/logophoto.jpg';\nimport NavBar from '../NavBar/NavBar'; // import {validate} from '../Utils/Utils'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function validate(game) {\n  let errors = {};\n\n  if (!game.name.length) {\n    errors.name = 'name is required';\n  } // if (!/^[a-zA-Z0-9]/.test(game.name)) {errors.name = 'name can only contain letters and numbers'} \n\n\n  if (game.name[game.name.length - 1] === \" \") {\n    errors.name = 'name cannot end with white spaces';\n  }\n\n  if (game.name.length > 40) {\n    errors.name = 'name must be shorter';\n  }\n\n  if (!game.description) {\n    errors.description = 'description is required';\n  }\n\n  if (!/^[a-zA-Z0-9]/.test(game.description)) {\n    errors.description = 'description can only contain letters and numbers';\n  }\n\n  if (game.platforms.length === 0) {\n    errors.platforms = 'platforms are required';\n  }\n\n  if (game.genres.length === 0) {\n    errors.genres = 'genres are required';\n  } // if(!/^[1-5]+\\.?[1-9]*$/.test(game.rating)) {errors.rating = 'rating is invalid'}\n\n\n  if (game.rating > 5 || game.rating < 1) {\n    errors.rating = 'rating is invalid';\n  }\n\n  if (game.background_image.length > 255) {\n    errors.background_image = 'url is too long';\n  } // if(game.background_image.length > 0) {if(!/([a-z\\-_0-9\\/\\:\\.]*\\.(jpg|jpeg|png|gif))/i.test(game.bacground_image)) {errors.background_image = 'url is invalid'}}\n\n\n  return errors;\n}\n\nconst Form = () => {\n  _s();\n\n  const formatDate = () => {\n    const date = new Date();\n    return date.toISOString().slice(0, 10);\n  };\n\n  const [game, setGame] = React.useState({\n    name: '',\n    description: '',\n    rating: \"\",\n    released: formatDate(),\n    background_image: '',\n    platforms: [],\n    genres: []\n  });\n  const [renders, setRenders] = React.useState([]);\n  const history = useHistory();\n  useEffect(() => {\n    dispatch(getGenres());\n  }, []);\n  const [errors, setErrors] = React.useState({});\n  const allGenres = useSelector(state => state.genres);\n  const dispatch = useDispatch();\n\n  const handleOnChange = e => {\n    setGame({ ...game,\n      [e.target.name]: e.target.value\n    });\n    setErrors(validate({ ...game,\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleOnSubmit = e => {\n    e.preventDefault();\n\n    if (game.background_image.length === 0) {\n      game.background_image = photo;\n    }\n\n    game.genres = game.genres.map(g => parseInt(g));\n\n    if (Object.keys(errors).length === 0) {\n      dispatch(createVideogame(game));\n      swal(\"Videogame created!\", \"\", \"success\");\n    }\n  };\n\n  const handleOnSelect = (e, prop) => {\n    let genre = allGenres.find(g => g.id == e.target.value);\n    setGame({ ...game,\n      [e.target.name]: [...game[prop], e.target.value]\n    });\n    setErrors(validate({ ...game,\n      [e.target.name]: e.target.value\n    }));\n    if (prop === 'genres') setRenders([...renders, genre]);\n  };\n\n  const handleOnClickDelete = (e, prop) => {\n    if (e.target.name == 'genre') {\n      setGame({ ...game,\n        genres: game.genres.filter(g => g != prop)\n      });\n      setRenders(renders.filter(r => r.id !== parseInt(prop)));\n    } else {\n      setGame({ ...game,\n        platforms: game.platforms.filter(p => p !== e.target.value)\n      }); // setRenders(renders.filter(r => r.id !== parseInt(prop)))  \n    }\n  };\n\n  let platforms = ['PC', 'PlayStation', 'PlayStation 2', 'PlayStation 3', 'PlayStation 4', 'PlayStation 5', 'Xbox 360', 'Xbox One', 'Xbox Series S/X', 'Nintendo Switch', 'macOS', 'Android', 'iOS', 'Linux', 'PS Vita', 'Wii U', 'Nintedo 3DS'];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: s.container,\n      onSubmit: handleOnSubmit,\n      id: \"videogameForm\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Create your own Videogame!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        classname: s.containerII,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: errors.name && s.danger,\n            type: \"text\",\n            name: \"name\",\n            value: game.name,\n            onChange: handleOnChange,\n            placeholder: \"Videogame name\"\n          }, 'name', false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }, this), errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: s.danger,\n            children: errors.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 34\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"released\",\n            children: \"Released Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: errors.date && s.danger,\n            type: \"date\",\n            name: \"released\",\n            value: game.date,\n            onChange: handleOnChange,\n            placeholder: \"07/07/2022\"\n          }, 'released', false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 17\n          }, this), errors.date && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: s.danger,\n            children: errors.date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 34\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"rating\",\n            children: \"Rating:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: errors.rating && s.danger,\n            type: \"number\",\n            name: \"rating\",\n            value: game.rating,\n            onChange: handleOnChange,\n            placeholder: \"From 1 to 5\"\n          }, 'rating', false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 17\n          }, this), errors.rating && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: s.danger,\n            children: errors.rating\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 36\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"genres\",\n            id: \"genres\",\n            onChange: e => handleOnSelect(e, e.target.name),\n            children: /*#__PURE__*/_jsxDEV(\"optgroup\", {\n              label: \"Genres\",\n              children: allGenres.map(g => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: g.id,\n                name: g.name,\n                children: g.name\n              }, g.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"platforms\",\n            id: \"platforms\",\n            onChange: e => handleOnSelect(e, e.target.name),\n            children: /*#__PURE__*/_jsxDEV(\"optgroup\", {\n              label: \"Platforms\",\n              children: platforms.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: p,\n                name: p,\n                children: p\n              }, p, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"image\",\n          children: \"Image:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: errors.background_image && s.danger,\n          type: \"text\",\n          name: \"background_image\",\n          value: game.background_image,\n          onChange: handleOnChange,\n          placeholder: \"Insert image url\"\n        }, 'background_image', false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this), errors.background_image && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: s.danger,\n          children: errors.background_image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 41\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"renders\",\n        children: [renders.length > 0 && renders.map(g => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: g.name\n          }, g.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            name: \"genre\",\n            value: g.id,\n            onClick: e => {\n              handleOnClickDelete(e, e.target.value);\n            },\n            children: \"X\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 24\n        }, this)), errors.genres && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: s.danger,\n          children: errors.genres\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 43\n        }, this), game.platforms.length > 0 && game.platforms.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: errors.platforms && s.danger,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: p\n          }, p, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            name: \"platforms\",\n            value: p,\n            onClick: e => {\n              handleOnClickDelete(e);\n            },\n            children: \"X\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 25\n        }, this)), errors.platforms && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: s.danger,\n          children: errors.platforms\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 46\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"description\",\n        children: \"Description:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: errors.description && s.danger,\n        form: \"videogameForm\",\n        name: \"description\",\n        value: game.description,\n        onChange: handleOnChange,\n        placeholder: \"Describe your game...\"\n      }, 'description', false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 13\n      }, this), errors.description && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: s.danger,\n        children: errors.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 36\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"CREATE!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Form, \"3h4p5xfgnM3vS9+Dp9sAFO08kps=\", false, function () {\n  return [useHistory, useSelector, useDispatch];\n});\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["React","useEffect","NavLink","Link","useHistory","s","useDispatch","useSelector","createVideogame","getGenres","swal","photo","NavBar","validate","game","errors","name","length","description","test","platforms","genres","rating","background_image","Form","formatDate","date","Date","toISOString","slice","setGame","useState","released","renders","setRenders","history","dispatch","setErrors","allGenres","state","handleOnChange","e","target","value","handleOnSubmit","preventDefault","map","g","parseInt","Object","keys","handleOnSelect","prop","genre","find","id","handleOnClickDelete","filter","r","p","container","containerII","danger"],"sources":["/Users/joaco/Desktop/Henry/PI-videogames/PI-Videogames-main/client/src/components/Form/Form.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { NavLink, Link, useHistory } from 'react-router-dom';\nimport s from './Form.module.css';\nimport { useDispatch, useSelector, } from 'react-redux';\nimport { createVideogame, getGenres} from '../../actions';\nimport swal from 'sweetalert';\nimport photo from '../Icons/logophoto.jpg';\nimport NavBar from '../NavBar/NavBar';\n// import {validate} from '../Utils/Utils'\n\n\n\nexport function validate(game) {\n    \n    let errors = {}; \n    if (!game.name.length) {errors.name = 'name is required'} \n    // if (!/^[a-zA-Z0-9]/.test(game.name)) {errors.name = 'name can only contain letters and numbers'} \n    if (game.name[game.name.length -1] === \" \") {errors.name = 'name cannot end with white spaces'} \n    if (game.name.length > 40) {errors.name = 'name must be shorter'} \n    if (!game.description) {errors.description = 'description is required'} \n    if (!/^[a-zA-Z0-9]/.test(game.description)) {errors.description = 'description can only contain letters and numbers'} \n    if (game.platforms.length === 0) {errors.platforms = 'platforms are required'} \n    if (game.genres.length === 0) {errors.genres = 'genres are required'} \n    // if(!/^[1-5]+\\.?[1-9]*$/.test(game.rating)) {errors.rating = 'rating is invalid'}\n    if(game.rating > 5 || game.rating < 1) {errors.rating = 'rating is invalid'}\n    if(game.background_image.length > 255) {errors.background_image = 'url is too long'}\n    // if(game.background_image.length > 0) {if(!/([a-z\\-_0-9\\/\\:\\.]*\\.(jpg|jpeg|png|gif))/i.test(game.bacground_image)) {errors.background_image = 'url is invalid'}}\n\n    return errors; \n  }\n\n const Form = () => {\n     \n     const formatDate = () => {\n         const date = new Date();\n         return date.toISOString().slice(0, 10);\n        }\n        \n        const [game, setGame] = React.useState ({ \n            name: '',\n            description: '',\n            rating: \"\",\n            released: formatDate(),\n            background_image: '',\n            platforms: [],\n            genres: [],\n        });\n        \n        const [renders, setRenders] = React.useState([])\n        const history = useHistory();\n        \n        useEffect(() => {\n            dispatch(getGenres())\n        }, [])\n\n\n\n const [errors, setErrors] = React.useState({}) \n const allGenres = useSelector(state => state.genres);\n const dispatch = useDispatch()\n\n\n const handleOnChange = (e) => {\n    setGame({...game, [e.target.name]: e.target.value})\n    setErrors(validate({...game, [e.target.name]: e.target.value})) \n }\n\n const handleOnSubmit = (e) => {\n    e.preventDefault();\n    if(game.background_image.length === 0) {game.background_image = photo}\n    game.genres = game.genres.map(g => parseInt(g))\n     if (Object.keys(errors).length === 0) {\n        dispatch(createVideogame(game))\n            swal(\"Videogame created!\", \"\", \"success\")}\n }\n    \n const handleOnSelect = (e, prop) => {\n    let genre = allGenres.find(g => g.id == e.target.value)\n    setGame({...game, [e.target.name]: [...game[prop], e.target.value]})\n    setErrors(validate({...game, [e.target.name]: e.target.value})) \n    if(prop === 'genres') setRenders([...renders, genre])\n   }\n\nconst handleOnClickDelete = (e, prop) => {\n    if(e.target.name == 'genre') {\n  setGame({...game, genres: game.genres.filter(g => g != prop)})\n  setRenders(renders.filter(r => r.id !== parseInt(prop)))\n    }\n    else{\n        setGame({...game, platforms: game.platforms.filter(p => p !== e.target.value)})\n        // setRenders(renders.filter(r => r.id !== parseInt(prop)))  \n    }\n}\n\n\nlet platforms = ['PC', 'PlayStation', 'PlayStation 2', 'PlayStation 3', 'PlayStation 4', 'PlayStation 5', 'Xbox 360', 'Xbox One', 'Xbox Series S/X', 'Nintendo Switch', 'macOS', 'Android', 'iOS', 'Linux', 'PS Vita', 'Wii U', 'Nintedo 3DS' ]\n\n    return (\n        <div>\n\n        <NavBar></NavBar>\n       <form className={s.container} onSubmit={handleOnSubmit} id=\"videogameForm\">\n        <div><h3>Create your own Videogame!</h3></div>\n        \n       <div classname={s.containerII}>\n         <div>\n            <label htmlFor='name'>Name:</label> \n                <input className={errors.name && s.danger} type='text' name='name' key='name' value={game.name} onChange={handleOnChange} placeholder='Videogame name'></input> \n                {errors.name && (<p className={s.danger}>{errors.name}</p>)} \n\n            <label htmlFor='released'>Released Date:</label> \n                <input className={errors.date && s.danger} type='date' name='released' key='released' value={game.date} onChange={handleOnChange} placeholder='07/07/2022'></input> \n                {errors.date && (<p className={s.danger}>{errors.date}</p>)} \n\n            <label htmlFor='rating'>Rating:</label> \n                <input className={errors.rating && s.danger} type='number' name='rating' key='rating' value={game.rating} onChange={handleOnChange} placeholder='From 1 to 5'></input> \n                {errors.rating && (<p className={s.danger}>{errors.rating}</p>)} \n\n                <select name='genres' id='genres' onChange={(e) => handleOnSelect(e, e.target.name)}>\n                    <optgroup label='Genres'>\n                            {allGenres.map(g =>\n                        <option value={g.id} name={g.name} key={g.id}>{g.name}</option> )}\n                    </optgroup>\n                </select>\n                <select name='platforms' id='platforms' onChange={(e) => handleOnSelect(e, e.target.name)}>\n                    <optgroup label='Platforms'>\n                            {platforms.map(p =>\n                        <option value={p} name={p} key={p}>{p}</option> )}\n                    </optgroup>\n                </select>\n            \n         </div>\n\n        <label htmlFor='image'>Image:</label>\n            <input className={errors.background_image && s.danger} type='text' name='background_image' key='background_image' value={game.background_image} onChange={handleOnChange} placeholder='Insert image url'></input>\n            {errors.background_image && <p className={s.danger}>{errors.background_image}</p>} \n\n\n       </div>\n\n\n\n            <div id='renders'>\n                       {renders.length > 0 && renders.map(g =>\n                       <div>\n                          <span key={g.id}>{g.name}</span>\n                          <button name='genre'value={g.id} onClick={(e) => {handleOnClickDelete(e, e.target.value)}} >X</button>\n                       </div>\n                        )}\n                        {errors.genres && <p className={s.danger}>{errors.genres}</p>} \n                           {game.platforms.length > 0 && game.platforms.map(p =>\n                        <div className={errors.platforms && s.danger}>\n                            <span key={p}>{p}</span>\n                            <button name='platforms' value={p} onClick={(e)=>{handleOnClickDelete(e)}}>X</button>\n                        </div>\n                        )}\n                        {errors.platforms && <p className={s.danger}>{errors.platforms}</p>} \n            </div>\n\n        <label htmlFor='description'>Description:</label>\n            <textarea className={errors.description && s.danger} form=\"videogameForm\" name='description' key='description' value={game.description} onChange={handleOnChange} placeholder='Describe your game...'></textarea>\n            {errors.description && <p className={s.danger}>{errors.description}</p>} \n\n         <input type='submit' value='CREATE!'></input> \n       </form> \n        </div>\n    )\n}\n\nexport default Form"],"mappings":"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"},"metadata":{},"sourceType":"module"}